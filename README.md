# 思路

## 全局路径规划
先根据桥墩位置和边界位置，尽可能靠右生成一条从起点到终点的路径点

## 运动规划 
根据船舶控制约束，将生成的路径转化为控制命令

## KeyWord
全局路径计算， MPC控制， 避碰算法

## 优化约束
1. 减少调整舵角次数（减少调整方向的次数）
2. 降低路径的长度
3. 在可控范围内增加螺旋浆的转速以减少任务耗时
4. 限速12km/h = 3.33333...m/s
5. 总长度100.0米，水线宽17.2米
6. 不能越过中线
7. 一定范围内的避碰 （500m）



## 船舶控制模型
Todo...
| 变量名           | 变量定义                 | 数据类型 |
|------------------|--------------------------|----------|
| ps_delta_1       | 左舵舵角指令（°）         | Float    |
| ps_rps_1         | 左螺旋桨转速指令（RPM）   | Float    |
| ss_delta_1       | 右舵舵角指令（°）         | Float    |
| ss_rps_1         | 右螺旋桨转速指令（RPM）   | Float    |


实际可以控制的就是舵角度和转速

| 字段名           | 含义                     | 数据类型 |
|------------------|--------------------------|----------|
| t                | 当前场景运行时间（s）     | Int      |
| ps_delta_2       | 左舵舵角反馈（°）         | Float    |
| ps_rps_2         | 左螺旋桨转速反馈（RPM）   | Float    |
| ss_delta_2       | 右舵舵角反馈（°）         | Float    |
| ss_rps_2         | 右螺旋桨转速反馈（RPM）   | Float    |
| motion_lon       | 本船经度（°）             | Float    |
| motion_lat       | 本船纬度（°）             | Float    |
| motion_heading   | 本船真航向（°；0-360°）   | Float    |
| motion_u         | 本船纵荡速度（m/s）       | Float    |
| motion_v         | 本船横荡速度（m/s）       | Float    |
| motion_r         | 本船转艏角速度（°/s）     | Float    |
| ts_ship_list     | 避碰船列表               | List     |
